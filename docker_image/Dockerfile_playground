FROM continuumio/anaconda3
MAINTAINER Billy Taj
RUN apt-get update
RUN apt-get install wget
RUN apt-get install unzip
RUN apt-get -y install g++
RUN apt-get -y install gcc
RUN apt-get -y install make
RUN apt-get -y install libz-dev
RUN apt-get -y install libbz2-dev
RUN apt-get -y install autoconf
RUN apt-get -y install build-essential
RUN apt-get -y install libboost-all-dev
RUN apt-get -y install flex
RUN apt-get -y install cmake
RUN apt-get -y install libncurses5-dev
RUN apt-get -y install liblzma-dev
RUN apt-get -y install perl
RUN conda update -n base conda -y
RUN conda install Biopython -y 
RUN conda install Pandas -y
RUN apt-get install openjdk-8-jre -y
RUN apt-get install openjdk-8-jdk -y
RUN apt-get install libgd-dev -y

WORKDIR /pipeline_tools

# Install PRIAM
RUN mkdir PRIAM_search
RUN wget http://priam.prabi.fr/utilities/PRIAM_search.jar
RUN mv PRIAM_search.jar PRIAM_search

RUN ln -s /bin/sed /usr/bin/sed


RUN mkdir EMBOSS && wget ftp://emboss.open-bio.org/pub/EMBOSS/EMBOSS-6.6.0.tar.gz && tar -xzvf EMBOSS-6.6.0.tar.gz
WORKDIR EMBOSS-6.6.0
<<<<<<< Updated upstream
RUN sh configure && make && mv emboss/needle /pipeline_tools/EMBOSS 
WORKDIR /pipeline_tools
RUN rm -r EMBOSS-6.6.0*


#----------------------------------------------------
# Install Centrifuge
RUN wget https://github.com/infphilo/centrifuge/archive/v1.0.3.tar.gz -O centrifuge.tar.gz && tar --remove-files -xzvf centrifuge.tar.gz && rm centrifuge.tar.gz 
WORKDIR centrifuge-1.0.3
RUN make 
WORKDIR /pipeline_tools
RUN mv centrifuge-1.0.3 centrifuge
=======
RUN sh configure && make 
#&& mv emboss/.libs/needle /pipeline_tools/EMBOSS 
#WORKDIR /pipeline_tools/EMBOSS
#RUN rm -r EMBOSS-6.6.0*
>>>>>>> Stashed changes
